{% extends "base.html" %}

{% block title %}Change Password - TrueNAS Password Changer{% endblock %}

{% block content %}
<h1>Change Password</h1>

<div class="user-info">
    Logged in as: <strong>{{ username }}</strong>
</div>

<form method="POST" action="{{ url_for('password.change') }}">
    <div class="form-group">
        <label for="current_password">Current Password</label>
        <input type="password" id="current_password" name="current_password" required>
        {% if form.current_password.errors %}
        <div class="errors">
            {% for error in form.current_password.errors %}
            <span>{{ error }}</span>
            {% endfor %}
        </div>
        {% endif %}
    </div>
    
    <div class="form-group">
        <label for="new_password">New Password</label>
        <input type="password" id="new_password" name="new_password" required>
        {% if form.new_password.errors %}
        <div class="errors">
            {% for error in form.new_password.errors %}
            <span>{{ error }}</span>
            {% endfor %}
        </div>
        {% endif %}
    </div>
    
    <div class="form-group">
        <label for="confirm_password">Confirm New Password</label>
        <input type="password" id="confirm_password" name="confirm_password" required>
        {% if form.confirm_password.errors %}
        <div class="errors">
            {% for error in form.confirm_password.errors %}
            <span>{{ error }}</span>
            {% endfor %}
        </div>
        {% endif %}
    </div>
    
    <button type="submit">Change Password</button>
</form>

<div class="nav-link">
    <a href="{{ url_for('auth.logout') }}">Logout</a>
</div>
{% endblock %}
